from datetime import datetime

from pydantic import field_validator, BaseModel

ETH_TOKEN_ADDRESS = "0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"
WETH_TOKEN_ADDRESS = "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"
WBTC_TOKEN_ADDRESS = "0x2260fac5e5542a773aa44fbcfedf7c193bc2c599"
LINK_TOKEN_ADDRESS = "0x514910771af9ca656af840dff83e8264ecf986ca"
YEARN_TOKEN_ADDRESS = "0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e"
AAVE_TOKEN_ADDRESS = "0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9"
UNI_TOKEN_ADDRESS = "0x1f9840a85d5af5bf1d1762f925bdaddc4201f984"
USDC_TOKEN_ADDRESS = "0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"
USDT_TOKEN_ADDRESS = "0xdAC17F958D2ee523a2206206994597C13D831ec7"
DAI_TOKEN_ADDRESS = "0x6b175474e89094c44da98b954eedeac495271d0f"
REN_TOKEN_ADDRESS = "0x408e41876cccdc0f92210600ef50372656052a38"
CUSDC_TOKEN_ADDRESS = "0x39aa39c021dfbae8fac545936693ac917d5e7563"
CDAI_TOKEN_ADDRESS = "0x5d3a536e4d6dbd6114cc1ead35777bab948e3643"
CETH_TOKEN_ADDRESS = "0x4ddc2d193948926d02f9b1fe9e1daa0718270ed5"
CWBTC_TOKEN_ADDRESS = "0xc11b1268c1a384e55c48c2391d8d480264a3a7f4"
CUNI_TOKEN_ADDRESS = "0x35a18000230da775cac24873d00ff85bccded550"
SHIB_TOKEN_ADDRESS = "0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE"
ARB_TOKEN_ADDRESS = "0xB50721BCf8d664c30412Cfbc6cf7a15145234ad1"
MATIC_TOKEN_ADDRESS = "0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0"
RETH_TOKEN_ADDRESS = "0xae78736Cd615f374D3085123A210448E74Fc6393"
CBETH_TOKEN_ADDRESS = "0xBe9895146f7AF43049ca1c1AE358B0541Ea49704"
LDO_TOKEN_ADDRESS = "0x5a98fcbea516cf06857215779fd812ca3bef1b32"
BUSD_TOKEN_ADDRESS = "0x4Fabb145d64652a948d72533023f6E7A623C7C53"
LUSD_TOKEN_ADDRESS = "0x5f98805A4E8be255a32880FDeC7F6728C6568bA0"
FRAX_TOKEN_ADDRESS = "0x853d955aCEf822Db058eb8505911ED77F175b99e"
WSTETH_TOKEN_ADDRESS = "0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0"
PEPE_TOKEN_ADDRESS = "0x6982508145454Ce325dDbE47a25d4ec3d2311933"
RNDR_TOKEN_ADDRESS = "0x6De037ef9aD2725EB40118Bb1702EBb27e4Aeb24"
GRT_TOKEN_ADDRESS = "0xc944E90C64B2c07662A292be6244BDf05Cda44a7"
MKR_TOKEN_ADDRESS = "0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2"
APE_TOKEN_ADDRESS = "0x4d224452801ACEd8B2F0aebE155379bb5D594381"
BLUR_TOKEN_ADDRESS = "0x5283D291DBCF85356A21bA090E6db59121208b44"
CRV_TOKEN_ADDRESS = "0xD533a949740bb3306d119CC777fa900bA034cd52"
BNB_TOKEN_ADDRESS = "0xB8c77482e45F1F44dE1745F52C74426C631bDD52"
stETH_TOKEN_ADDRESS = "0xae7ab96520de3a18e5e111b5eaab095312d7fe84"
TRX_TOKEN_ADDRESS = "0x50327c6c5a14dcade707abad2e27eb517df87ab5"
TONCOIN_TOKEN_ADDRESS = "0x582d872a1b094fc48f5de31d3b73f2d9be47def1"
NEAR_TOKEN_ADDRESS = "0x85f17cf997934a597031b2e18a9ab6ebd4b9f6a4"
LEO_TOKEN_ADDRESS = "0x2af5d2ad76741191d15dfe7bf6ac92d4bd912ca3"
INJ_TOKEN_ADDRESS = "0xe28b3B32B6c345A34Ff64674606124Dd5Aceca30"
OKB_TOKEN_ADDRESS = "0x75231f58b43240c9718dd58b4967c5114342a86c"
IMX_TOKEN_ADDRESS = "0xf57e7e7c23978c3caec3c3548e3d615c346e79ff"
VEN_TOKEN_ADDRESS = "0xd850942ef8811f2a866692a623011bde52a462c1"
CRO_TOKEN_ADDRESS = "0xa0b73e1ff0b80914ab6fe0444e65848c4c34450b"
TUSD_TOKEN_ADDRESS = "0x0000000000085d4780B73119b644AE5ecd22b376"
QNT_TOKEN_ADDRESS = "0x4a220e6096b25eadb88358cb44068a3248254675"
MNT_TOKEN_ADDRESS = "0x3c3a81e81dc49a522a592e7622a7e711c06bf354"
FTM_TOKEN_ADDRESS = "0x4e15361fd6b4bb609fa63c81a2be19d873717870"
stkAAVE_TOKEN_ADDRESS = "0x4da27a545c0c5b758a6ba100e3a049001de870f5"
rETH_TOKEN_ADDRESS = "0xae78736cd615f374d3085123a210448e74fc6393"
SAND_TOKEN_ADDRESS = "0x3845badAde8e6dFF049820680d1F14bD3903a5d0"
THETA_TOKEN_ADDRESS = "0x3883f5e181fccaf8410fa61e12b59bad963fb645"
SNX_TOKEN_ADDRESS = "0xd0dA9cBeA9C3852C5d63A95F9ABCC4f6eA0F9032"
BTT_TOKEN_ADDRESS = "0xc669928185dbce49d2230cc9b0979be6dc797957"
MANA_TOKEN_ADDRESS = "0x0f5d2fb29fb7d3cfee444a200298f468908cc942"
wMANA_TOKEN_ADDRESS = "0xfd09cf7cfffa9932e33668311c4777cb9db3c9be"
KCS_TOKEN_ADDRESS = "0xf34960d9d60be18cc1d5afc1a6f012a723a28811"
BEAM_TOKEN_ADDRESS = "0x62D0A8458eD7719FDAF978fe5929C6D342B0bFcE"
Cake_TOKEN_ADDRESS = "0x152649eA73beAb28c5b49B26eb48f7EAD6d4c898"
HEX_TOKEN_ADDRESS = "0x2b591e99afe9f32eaa6214f7b7629768c40eeb39"
DYDX_TOKEN_ADDRESS = "0x92d6c1e31e14520e676a687f0a93788b716beff5"
WOO_TOKEN_ADDRESS = "0x4691937a7508860f876c9c0a2a617e7d9e945d4b"
FET_TOKEN_ADDRESS = "0xaea46A60368A7bD060eec7DF8CBa43b7EF41Ad85"
USDD_TOKEN_ADDRESS = "0x0C10bF8FcB7Bf5412187A595ab97a3609160b5c6"
CHZ_TOKEN_ADDRESS = "0x3506424f91fd33084466f402d5d97f05f8e3b4af"
frxETH_TOKEN_ADDRESS = "0x5e8422345238f34275888049021821e8e08caa1f"
FXS_TOKEN_ADDRESS = "0x3432b6a60d23ca0dfca7761b7ab56459d9c964d0"
ENJ_TOKEN_ADDRESS = "0xf629cbd94d3791c9250152bd8dfbdf380e2a3b9c"
AAAVE_TOKEN_ADDRESS = "0xffc97d72e13e01096502cb8eb52dee56f74dad7b"
CVX_TOKEN_ADDRESS = "0x4e3fbd56cd56c3e72c1403e103b45db9da5b9d2b"


TOKEN_ADDRESSES = [
    ETH_TOKEN_ADDRESS,
    WETH_TOKEN_ADDRESS,
    WBTC_TOKEN_ADDRESS,
    LINK_TOKEN_ADDRESS,
    YEARN_TOKEN_ADDRESS,
    AAVE_TOKEN_ADDRESS,
    UNI_TOKEN_ADDRESS,
    USDC_TOKEN_ADDRESS,
    DAI_TOKEN_ADDRESS,
    REN_TOKEN_ADDRESS,
    CUSDC_TOKEN_ADDRESS,
    CDAI_TOKEN_ADDRESS,
    CETH_TOKEN_ADDRESS,
    CWBTC_TOKEN_ADDRESS,
    SHIB_TOKEN_ADDRESS,
    ARB_TOKEN_ADDRESS,
    MATIC_TOKEN_ADDRESS,
    RETH_TOKEN_ADDRESS,
    CBETH_TOKEN_ADDRESS,
    LDO_TOKEN_ADDRESS,
    BUSD_TOKEN_ADDRESS,
    LUSD_TOKEN_ADDRESS,
    FRAX_TOKEN_ADDRESS,
    WSTETH_TOKEN_ADDRESS,
    PEPE_TOKEN_ADDRESS,
    RNDR_TOKEN_ADDRESS,
    GRT_TOKEN_ADDRESS,
    MKR_TOKEN_ADDRESS,
    APE_TOKEN_ADDRESS,
    BLUR_TOKEN_ADDRESS,
    CRV_TOKEN_ADDRESS,
    BNB_TOKEN_ADDRESS,
    stETH_TOKEN_ADDRESS,
    TRX_TOKEN_ADDRESS,
    TONCOIN_TOKEN_ADDRESS,
    NEAR_TOKEN_ADDRESS,
    LEO_TOKEN_ADDRESS,
    INJ_TOKEN_ADDRESS,
    OKB_TOKEN_ADDRESS,
    IMX_TOKEN_ADDRESS,
    VEN_TOKEN_ADDRESS,
    CRO_TOKEN_ADDRESS,
    TUSD_TOKEN_ADDRESS,
    QNT_TOKEN_ADDRESS,
    MNT_TOKEN_ADDRESS,
    FTM_TOKEN_ADDRESS,
    stkAAVE_TOKEN_ADDRESS,
    rETH_TOKEN_ADDRESS,
    SAND_TOKEN_ADDRESS,
    THETA_TOKEN_ADDRESS,
    SNX_TOKEN_ADDRESS,
    BTT_TOKEN_ADDRESS,
    MANA_TOKEN_ADDRESS,
    wMANA_TOKEN_ADDRESS,
    KCS_TOKEN_ADDRESS,
    BEAM_TOKEN_ADDRESS,
    Cake_TOKEN_ADDRESS,
    HEX_TOKEN_ADDRESS,
    DYDX_TOKEN_ADDRESS,
    WOO_TOKEN_ADDRESS,
    FET_TOKEN_ADDRESS,
    USDD_TOKEN_ADDRESS,
    CHZ_TOKEN_ADDRESS,
    frxETH_TOKEN_ADDRESS,
    FXS_TOKEN_ADDRESS,
    ENJ_TOKEN_ADDRESS,
    AAAVE_TOKEN_ADDRESS,
    CVX_TOKEN_ADDRESS,
]

STABLE_COINS = [
    USDT_TOKEN_ADDRESS,
    USDC_TOKEN_ADDRESS,
    USDD_TOKEN_ADDRESS,
    TUSD_TOKEN_ADDRESS,
    DAI_TOKEN_ADDRESS,
    BUSD_TOKEN_ADDRESS
]

COINGECKO_ID_BY_ADDRESS = {
    WETH_TOKEN_ADDRESS: "weth",
    ETH_TOKEN_ADDRESS: "ethereum",
    WBTC_TOKEN_ADDRESS: "wrapped-bitcoin",
    LINK_TOKEN_ADDRESS: "chainlink",
    YEARN_TOKEN_ADDRESS: "yearn-finance",
    AAVE_TOKEN_ADDRESS: "aave",
    UNI_TOKEN_ADDRESS: "uniswap",
    USDC_TOKEN_ADDRESS: "usd-coin",
    DAI_TOKEN_ADDRESS: "dai",
    REN_TOKEN_ADDRESS: "republic-protocol",
    CUSDC_TOKEN_ADDRESS: "compound-usd-coin",
    CDAI_TOKEN_ADDRESS: "cdai",
    CETH_TOKEN_ADDRESS: "compound-ether",
    CWBTC_TOKEN_ADDRESS: "compound-wrapped-btc",
}


class Price(BaseModel):
    token_address: str
    usd_price: float
    timestamp: datetime

    @field_validator("token_address")
    @classmethod
    def lower_token_address(cls, v: str) -> str:
        return v.lower()


class Token(BaseModel):
    token_address: str
    name: str
    symbol: str
    decimals: int

    @field_validator("token_address")
    @classmethod
    def lower_token_address(cls, v: str) -> str:
        return v.lower()